import pandas as pd
import numpy as np
import statsmodels.formula.api as sm
df = pd.DataFrame({"A": [10, 10, 20, 20, 30, 30, 40, 40, 50, 50], "B": [20, 20, 30, 30, 10, 10, 40, 40, 50, 50]})
#df = pd.DataFrame({"A": [10, 20, 30, 40, 50], "B": [20, 30, 10, 40, 50]})


#df = pd.DataFrame({"A": [1, 2, 20, 20, 30, 30, 40, 40, 50, 50, 13, 13], "B": [20, 20, 30, 30, 10, 10, 40, 40, 50, 50, 33, 33]})
#df = pd.DataFrame({"A": [1, 1, 2, 2, 4, 4, 6, 6], "B": [6, 6, 7, 7, 2, 2, 27, 27]})
#df = pd.DataFrame({"A": [1, 2, 4, 6], "B": [6, 7, 2, 27]})
#df = pd.DataFrame({"A": [4, 72, 10, 78, 80, 32, 40, 53, 44, 79, 4, 72, 10, 78, 80, 32, 40, 53, 44, 79], "B": [68, 19, 36, 48, 84, 34, 20, 72, 26, 3, 68, 19, 36, 48, 84, 34, 20, 72, 26, 3]})
#df = pd.DataFrame({"A": [4, 72, 10, 78, 80, 32, 40, 53, 44, 79], "B": [68, 19, 36, 48, 84, 34, 20, 72, 26, 3]})


#df = pd.DataFrame({"A": [9,32,-155,-308,-19,-45,209,23,-480,393], "B": [-109,-67,-177,-381,-168,-106,290,233,131,-216]})
#df = pd.DataFrame({"A": [9,9,32,32,-155,-155,-308,-308,-19,-19,-45,-45,209,209,23,23,-480,-480,393,393], "B": [-109,-109,-67,-67,-177,-177,-381,-381,-168,-168,-106,-106,290,290,233,233, 131, 131,-216,-216]})
#df = pd.DataFrame({"A": [9,32,-155,-308,-19,-45,209,23,-480,393,9,32,-155,-308,-19,-45,209,23,-480,393], "B": [-109,-67,-177,-381,-168,-106,290,233,131,-216,-109,-67,-177,-381,-168,-106,290,233,131,-216]})
result = sm.ols(formula="A ~ B", data=df).fit()
print(result.params)
print(result.summary())



# ==============================================================================
# Dep. Variable:                      A   R-squared:                       0.490
# Model:                            OLS   Adj. R-squared:                  0.320
# Method:                 Least Squares   F-statistic:                     2.882
# Date:                Mon, 02 Jan 2017   Prob (F-statistic):              0.188
# Time:                        14:48:31   Log-Likelihood:                -18.657
# No. Observations:                   5   AIC:                             41.31
# Df Residuals:                       3   BIC:                             40.53
# Df Model:                           1
# Covariance Type:            nonrobust
# ==============================================================================
#                  coef    std err          t      P>|t|      [95.0% Conf. Int.]
# ------------------------------------------------------------------------------
# Intercept      9.0000     13.675      0.658      0.557       -34.519    52.519
# B              0.7000      0.412      1.698      0.188        -0.612     2.012
# ==============================================================================
# Omnibus:                          nan   Durbin-Watson:                   1.402
# Prob(Omnibus):                    nan   Jarque-Bera (JB):                0.466
# Skew:                          -0.041   Prob(JB):                        0.792
# Kurtosis:                       1.506   Cond. No.                         77.8
# ==============================================================================

#
# ==============================================================================
# Dep. Variable:                      A   R-squared:                       0.490
# Model:                            OLS   Adj. R-squared:                  0.426
# Method:                 Least Squares   F-statistic:                     7.686
# Date:                Mon, 02 Jan 2017   Prob (F-statistic):             0.0242
# Time:                        14:49:12   Log-Likelihood:                -37.314
# No. Observations:                  10   AIC:                             78.63
# Df Residuals:                       8   BIC:                             79.23
# Df Model:                           1
# Covariance Type:            nonrobust
# ==============================================================================
#                  coef    std err          t      P>|t|      [95.0% Conf. Int.]
# ------------------------------------------------------------------------------
# Intercept      9.0000      8.374      1.075      0.314       -10.311    28.311
# B              0.7000      0.252      2.772      0.024         0.118     1.282
# ==============================================================================
# Omnibus:                        2.732   Durbin-Watson:                   1.756
# Prob(Omnibus):                  0.255   Jarque-Bera (JB):                0.933
# Skew:                          -0.041   Prob(JB):                        0.627
# Kurtosis:                       1.506   Cond. No.                         77.8
# ==============================================================================

